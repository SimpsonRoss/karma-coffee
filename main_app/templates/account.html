{% extends 'base.html' %}

{% block content %}
<div class="container col-12" style="margin-top: 10vmin;">
  <div class="row">
    <div class="col-md-6">
      <h3>Your Orders</h3>

      {% for order in orders %}
          <div class="order">
              <h3>Order #{{ order.id }}</h3>
              <p>Date: {{ order.date }}</p>
              <p>Status: {{ order.get_status_display }}</p>
              <p>Total: ${{ order.get_total }}</p>

              <h4>Order Items:</h4>
              <ul>
                  {% for item in order.orderitem_set.all %}
                      <li>
                          {{ item.product.name }} ({{ item.quantity }}) - ${{ item.product.price }}
                      </li>
                  {% endfor %}
              </ul>
          </div>
      {% endfor %}
    </div>
    <div class="col-md-6">
      <h3>Your Details</h3>
      {% load crispy_forms_tags %}
      <form method="post">
          {% csrf_token %}
          {{ user_form|crispy }}
          <button type="submit" class="btn btn-primary">Save</button>
      </form>
    </div>
  </div>
</div>

{% endblock %}
